# Arizona Games Store

Привет! Это мой проект игрового магазина для Arizona Role Play. Решил сделать полноценную платформу, где игроки могут торговать внутриигровыми предметами, недвижимостью и услугами. Получилось довольно интересно!

## Что это вообще такое?

Это маркетплейс для игроков Arizona RP, где можно:
- Покупать и продавать дома, бизнесы, транспорт
- Сдавать в аренду имущество с калькулятором стоимости
- Искать охранников и аксессуары
- Оставлять отзывы о продавцах
- Следить за популярными объявлениями

Короче, как Авито, только для виртуального мира Arizona RP.

## Стек технологий

### Backend
- **Go 1.25** - решил попробовать Golang для бэкенда, производительность огонь
- **Gin** - быстрый веб-фреймворк, очень удобный роутинг
- **PostgreSQL** - надежная реляционная БД, GORM для работы с ней
- **JWT** - авторизация через токены (access + refresh)
- **AWS S3** - храню все картинки объявлений в облаке
- **golang-migrate** - миграции БД, чтобы не плодить хаос
- **bcrypt** - хеширование паролей, безопасность превыше всего

### Frontend
- **React 19** - последняя версия, хотелось попробовать новые фичи
- **Vite** - сборщик, который не заставляет ждать по 10 минут
- **React Router v7** - навигация между страницами
- **Google reCAPTCHA v3** - защита от ботов при регистрации
- Чистый CSS - без библиотек, все стили руками

#### Безопасность
- Rate limiting на регистрацию и авторизацию
- Защита от XSS атак (санитизация инпутов)
- HTTP-only куки для токенов
- Верификация email перед использованием
- Хеширование паролей с солью

#### UX/UI
- Адаптивный дизайн (мобилки, планшеты, десктопы)
- Темная/светлая тема (сохраняется в профиле)
- Снежный эффект на новый год (почему бы и нет?)
- Бесконечный скролл для объявлений
- Система фильтрации и сортировки

#### Функционал
- Мультисерверность (33 сервера Arizona RP)
- Поддержка разных валют (VC$, $, BTC, EURO, Договорная)
- Калькулятор аренды с лимитами по часам
- Система рейтингов продавцов
- Просмотренные объявления (история)
- Жалобы на объявления с детальными причинами
- Автоудаление старых объявлений (48 часов)
- Статистика просмотров

#### База данных
- Индексы на часто используемые поля (производительность!)
- Связи между таблицами (accounts, ads, feedback, reports)
- Миграции для версионирования схемы
- Автоматический пересчет статистики при запуске

## Структура проекта

```
arizonagamesstore/
├── backend/
│   ├── database/       # Подключение к PostgreSQL
│   ├── handlers/       # HTTP обработчики (контроллеры)
│   ├── middleware/     # Аутентификация, rate limiting, timeout
│   ├── migrations/     # SQL миграции базы данных
│   ├── models/         # Структуры данных
│   ├── services/       # Бизнес-логика
│   ├── utils/          # JWT, email, S3, и прочие утилиты
│   └── main.go         # Точка входа
└── frontend/
    ├── src/
    │   ├── components/ # React компоненты
    │   ├── context/    # AuthContext для глобального состояния
    │   ├── hooks/      # Кастомные хуки (useRateLimit)
    │   └── styles/     # CSS стили
    └── public/         # Статика

```

## Как запустить локально

### Требования
- Go 1.25+
- Node.js 18+
- PostgreSQL 14+
- AWS S3 аккаунт (для картинок)

### Backend

```bash
cd backend

# Установка зависимостей
go mod download

# Создай .env файл с настройками:
DB_HOST=localhost
DB_USER=postgres
DB_PASSWORD=твой_пароль
DB_NAME=arizonagamesstore
DB_PORT=5432
JWT_SECRET=твой_секретный_ключ
AWS_ACCESS_KEY_ID=твой_ключ
AWS_SECRET_ACCESS_KEY=твой_секрет
AWS_REGION=us-east-1
AWS_BUCKET_NAME=твой_бакет

# Накатить миграции
migrate -path migrations -database "postgresql://user:pass@localhost:5432/dbname?sslmode=disable" up

# Запуск
go run main.go
```

Backend поднимется на `http://localhost:8080`

### Frontend

```bash
cd frontend

# Установка пакетов
npm install

# Запуск дев-сервера
npm run dev
```

Frontend будет на `http://localhost:5173`

## Что я узнал делая этот проект

1. **Go реально быстрый** - обработка запросов летает, горутины для фоновых задач это кайф
2. **JWT токены удобнее сессий** - но надо помнить про refresh токены
3. **AWS S3 не так страшен** - документация хорошая, SDK понятный
4. **Rate limiting обязателен** - иначе кто-нибудь обязательно спамить начнет
5. **Миграции БД спасают жизнь** - особенно когда в продакшене что-то меняешь
6. **React Context для авторизации** - проще чем Redux для небольших проектов
7. **Санитизация инпутов важна** - XSS атаки реальны

## Что можно улучшить

Честно говоря, есть куда расти:
- Добавить WebSocket для живых обновлений объявлений
- Сделать админ-панель для модерации
- Добавить систему уведомлений
- Внедрить полнотекстовый поиск (Elasticsearch?)
- Написать тесты (да, я знаю, надо было сразу)
- Dockerize всё это дело
- CI/CD pipeline для автодеплоя

*Сделано с душой и большим количеством кофе ☕ И куча банок энергетиков.*